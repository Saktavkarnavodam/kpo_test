# Руководство пользователя по системе управления заказами в ресторане

## Начало работы

Для работы с нашей системой вы должны быть зарегистрированы в качестве пользователя. В системе предусмотрены два типа пользователей: администраторы, клиенты, а все они пользователи системы. Каждый тип пользователя имеет свой набор доступных операций.

### Требования к использованию

- Для тестирования и взаимодействия с API настоятельно рекомендуется использовать программное обеспечение для тестирования API, например Postman.
- Пользовательский ввод не должен превышать 255 символов.
- Все операции с заказами выполняются асинхронно, имитируя реальный процесс приготовления блюд.

### Ключевые компоненты системы

- **UserController**: Управление регистрацией, аутентификацией и получением информации о текущем пользователе.
- **AdminController**: Операции, доступные администратору, включая управление блюдами и заказами.
- **ClientController**: Интерфейс для клиентов, позволяющий создавать и управлять заказами.

## Регистрация и аутентификация

### Регистрация нового пользователя

Для регистрации отправьте POST-запрос на `/api/user/registerUser`, указав `newUsername`, `newPassword` и `userType` (`admin` или `client`). Пример: 
localhost:8080/api/user/registerUser?username=Kvasov&password=1&type=admin

### Вход в систему

Для входа в систему отправьте GET-запрос на `/api/user/authenticateUser` с данными вашей учетной записи и типом пользователя. Пример: 
localhost:8080/api/user/authenticateUser?username=client&password=1&userType=client


### Выход из системы

Чтобы выйти из системы, отправьте DELETE-запрос на `/api/user/logoutUser` с данными вашей учетной записи. Пример: 
localhost:8080/api/user/logoutUser?username=Kvasov&password=1&userType=admin


## Операции администратора

Администратор может добавлять и удалять блюда, просматривать доходы и статистику по заказам и блюдам.

### Добавление блюда

Отправьте POST-запрос на `/api/management/publishDish`, указав название, описание, цену и время приготовления блюда. Пример: 
localhost:8080/api/management/publishDish?dishTitle=Soup&detail=Fish soup with mushrooms&price=100&preparationDuration=8

### Удаление блюда

Чтобы удалить блюдо, отправьте DELETE-запрос на `/api/management/discardDish` с данными блюда. Пример: 
localhost:8080/api/management/discardDish?dishTitle=Soup&summary=something&price=100&preparationDuration=8

### Получить список блюд по популярности

Чтобы эту информацию, отправьте GET-запрос на `/api/management/listTopDishs`. Пример: 
localhost:8080/api/management/listTopDishs?

## Операции клиента

Клиенты могут создавать, расширять и оплачивать заказы, а также отменять их. 

### Создание заказа

Отправьте POST-запрос на `/api/client/createOrder` с ID блюд, которые хотите заказать. В одном заказе не могут быть блюда одного типа, для данной возможности используете расширение заказа. Пример: 
localhost:8080/api/client/createOrder?dishId=1&dishId=2

### Расширение заказа

Чтобы добавить блюда к существующему заказу, отправьте PUT-запрос на `/api/client/expandOrder` с дополнительными ID блюд. Пример: 
localhost:8080/api/client/expandOrder?dishId=11  

### Отмена заказа

Для отмены заказа отправьте DELETE-запрос на `/api/client/cancelOrder`. Пример: 
localhost:8080/api/client/cancelOrder?

### Оплата заказа

Чтобы оплатить заказ, отправьте POST-запрос на `/api/client/payOrder` с ID заказа и суммой к оплате. Пример: 
localhost:8080/api/client/payOrder?id=1&sum=1000

## Заключение

### Шаблоны проектирования:

#### MVC: 
Разделяет приложение на Model, View и Controller. В рамках учебного курса View в данном случае отсутствует, так как взаимодействие в программе происходит через API.

#### Dependency Injection: 
В программе используются @Autowired для внедрения зависимостей и Spring Framework для работы с ними.

#### Factory Method: 
Model классы используют UUID как уникальный идентификатор.
